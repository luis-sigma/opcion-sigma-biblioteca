<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Biblioteca Opción Sigma</title>
<style>
body {
  margin:0;
  background:#0f0f0f;
  color:white;
  font-family:Arial, sans-serif;
}
.container {
  padding:30px;
}
h1 {
  margin-bottom:30px;
}
.category {
  margin-bottom:40px;
}
.category h2 {
  margin-bottom:15px;
}
.row {
  display:flex;
  overflow-x:auto;
  gap:15px;
  padding-bottom:10px;
}
.card {
  min-width:260px;
  transition:transform 0.2s;
  cursor:pointer;
}
.card img {
  width:100%;
  border-radius:8px;
}
.card:hover {
  transform:scale(1.08);
}
.player {
  margin-bottom:40px;
}
iframe {
  width:100%;
  max-width:1000px;
  height:560px;
  border:none;
  border-radius:12px;
}
::-webkit-scrollbar {
  height:8px;
}
::-webkit-scrollbar-thumb {
  background:#444;
  border-radius:4px;
}
</style>
</head>
<body>

<div class="container">
  <h1>Biblioteca Opción Sigma</h1>

  <div class="player" id="player"></div>

  <div id="categories"></div>
</div>

<script>

const DATA_URL = "https://luis-sigma.github.io/opcion-sigma-biblioteca/videos.min.json";

function playVideo(id){
  document.getElementById("player").innerHTML = `
    <iframe src="https://www.youtube.com/embed/${id}"
      allowfullscreen></iframe>
  `;
  window.scrollTo({top:0, behavior:"smooth"});
}

fetch(DATA_URL)
  .then(res => res.json())
  .then(videos => {

    const grouped = {};

    videos.forEach(v => {
      const cat = v.category || "General";
      if(!grouped[cat]) grouped[cat] = [];
      grouped[cat].push(v);
    });

    const container = document.getElementById("categories");

    Object.keys(grouped).sort().forEach(cat => {

      const section = document.createElement("div");
      section.className = "category";

      const title = document.createElement("h2");
      title.innerText = cat;

      const row = document.createElement("div");
      row.className = "row";

      grouped[cat].slice(0, 25).forEach(video => {

        const card = document.createElement("div");
        card.className = "card";
        card.onclick = () => playVideo(video.videoId);

        card.innerHTML = `
          <img src="${video.thumbnails?.medium?.url || ''}">
        `;

        row.appendChild(card);
      });

      section.appendChild(title);
      section.appendChild(row);
      container.appendChild(section);

    });

  });

</script>

</body>
</html>
